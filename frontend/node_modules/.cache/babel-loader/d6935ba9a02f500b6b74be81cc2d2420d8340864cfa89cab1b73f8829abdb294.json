{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexkeith/encodarr/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alexkeith/encodarr/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/alexkeith/encodarr/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/alexkeith/encodarr/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import useSettings from\"../../hooks/useSettings\";import styles from\"./MediaManagement.module.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MediaManagement=function MediaManagement(){var initialSettings=useSettings();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),settings=_useState2[0],setSettings=_useState2[1];useEffect(function(){var s=[];for(var i in initialSettings){s.push(initialSettings[i]);}setSettings(s);},[initialSettings]);var handleInputChange=function handleInputChange(name,value){var updatedSettings=settings.map(function(setting){return setting.name===name?_objectSpread(_objectSpread({},setting),{},{value:value}):setting;});setSettings(updatedSettings);};var saveSettings=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8000/api/settings\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({settings:settings})});case 2:case\"end\":return _context.stop();}},_callee);}));return function saveSettings(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.mediaManagement,children:[settings.map(function(setting){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[setting.name,/*#__PURE__*/_jsx(\"input\",{type:\"input\",value:setting.value,onChange:function onChange(e){return handleInputChange(setting.name,e.target.value);}})]})},setting.name);}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:saveSettings})]});};export default MediaManagement;","map":{"version":3,"names":["React","useState","useEffect","useSettings","styles","jsx","_jsx","jsxs","_jsxs","MediaManagement","initialSettings","_useState","_useState2","_slicedToArray","settings","setSettings","s","i","push","handleInputChange","name","value","updatedSettings","map","setting","_objectSpread","saveSettings","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","stop","apply","arguments","className","mediaManagement","children","type","onChange","e","target","onClick"],"sources":["/Users/alexkeith/encodarr/frontend/src/components/mediaManagement/MediaManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport useSettings from \"../../hooks/useSettings\";\nimport styles from \"./MediaManagement.module.scss\";\n\nconst MediaManagement = () => {\n\tconst initialSettings = useSettings();\n\tconst [settings, setSettings] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst s: any = [];\n\t\tfor (let i in initialSettings) {\n\t\t\ts.push(initialSettings[i]);\n\t\t}\n\t\tsetSettings(s);\n\t}, [initialSettings]);\n\n\tconst handleInputChange = (name: any, value: any) => {\n\t\tconst updatedSettings: any = settings.map((setting: any) =>\n\t\t\tsetting.name === name ? { ...setting, value } : setting\n\t\t);\n\t\tsetSettings(updatedSettings);\n\t};\n\n\tconst saveSettings = async () => {\n\t\tawait fetch(`http://localhost:8000/api/settings`, {\n\t\t\tmethod: \"PUT\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ settings: settings }),\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={styles.mediaManagement}>\n\t\t\t{settings.map((setting: any) => (\n\t\t\t\t<div key={setting.name}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t{setting.name}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"input\"\n\t\t\t\t\t\t\tvalue={setting.value}\n\t\t\t\t\t\t\tonChange={(e) => handleInputChange(setting.name, e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t<input type=\"submit\" onClick={saveSettings} />\n\t\t</div>\n\t);\n};\n\nexport default MediaManagement;\n"],"mappings":"+eAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,yBAAyB,CACjD,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC7B,GAAM,CAAAC,eAAe,CAAGP,WAAW,CAAC,CAAC,CACrC,IAAAQ,SAAA,CAAgCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BV,SAAS,CAAC,UAAM,CACf,GAAM,CAAAc,CAAM,CAAG,EAAE,CACjB,IAAK,GAAI,CAAAC,CAAC,GAAI,CAAAP,eAAe,CAAE,CAC9BM,CAAC,CAACE,IAAI,CAACR,eAAe,CAACO,CAAC,CAAC,CAAC,CAC3B,CACAF,WAAW,CAACC,CAAC,CAAC,CACf,CAAC,CAAE,CAACN,eAAe,CAAC,CAAC,CAErB,GAAM,CAAAS,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,IAAS,CAAEC,KAAU,CAAK,CACpD,GAAM,CAAAC,eAAoB,CAAGR,QAAQ,CAACS,GAAG,CAAC,SAACC,OAAY,QACtD,CAAAA,OAAO,CAACJ,IAAI,GAAKA,IAAI,CAAAK,aAAA,CAAAA,aAAA,IAAQD,OAAO,MAAEH,KAAK,CAALA,KAAK,GAAKG,OAAO,EACxD,CAAC,CACDT,WAAW,CAACO,eAAe,CAAC,CAC7B,CAAC,CAED,GAAM,CAAAI,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACd,CAAAC,KAAK,sCAAuC,CACjDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACR,cAAc,CAAE,kBACjB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE5B,QAAQ,CAAEA,QAAS,CAAC,CAC5C,CAAC,CAAC,yBAAAoB,QAAA,CAAAS,IAAA,MAAAZ,OAAA,GACF,kBARK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAAiB,KAAA,MAAAC,SAAA,OAQjB,CAED,mBACCrC,KAAA,QAAKsC,SAAS,CAAE1C,MAAM,CAAC2C,eAAgB,CAAAC,QAAA,EACrClC,QAAQ,CAACS,GAAG,CAAC,SAACC,OAAY,qBAC1BlB,IAAA,QAAA0C,QAAA,cACCxC,KAAA,UAAAwC,QAAA,EACExB,OAAO,CAACJ,IAAI,cACbd,IAAA,UACC2C,IAAI,CAAC,OAAO,CACZ5B,KAAK,CAAEG,OAAO,CAACH,KAAM,CACrB6B,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAhC,iBAAiB,CAACK,OAAO,CAACJ,IAAI,CAAE+B,CAAC,CAACC,MAAM,CAAC/B,KAAK,CAAC,EAAC,CACjE,CAAC,EACI,CAAC,EARCG,OAAO,CAACJ,IASb,CAAC,EACN,CAAC,cACFd,IAAA,UAAO2C,IAAI,CAAC,QAAQ,CAACI,OAAO,CAAE3B,YAAa,CAAE,CAAC,EAC1C,CAAC,CAER,CAAC,CAED,cAAe,CAAAjB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}