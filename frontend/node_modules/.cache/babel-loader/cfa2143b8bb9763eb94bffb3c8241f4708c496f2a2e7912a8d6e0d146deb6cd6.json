{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexkeith/encodarr/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alexkeith/encodarr/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alexkeith/encodarr/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Profiles.module.scss\";import Profile from\"../profile/Profile\";import{useState}from\"react\";import Modal from\"../modal/Modal\";import useProfiles from\"../../hooks/useProfiles\";import ToolBar from\"../ToolBar/ToolBar\";import ToolBarItem from\"../ToolBarItem/ToolBarItem\";import SyncIcon from\"@mui/icons-material/Sync\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profiles=function Profiles(){var profiles=useProfiles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),modalType=_useState2[0],setModalType=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),selectedProfile=_useState6[0],setSelectedProfile=_useState6[1];var handleProfileClick=function handleProfileClick(profile){setSelectedProfile(profile);setContent({id:profile===null||profile===void 0?void 0:profile.id,name:profile===null||profile===void 0?void 0:profile.name,codec:profile===null||profile===void 0?void 0:profile.codec,codecs:profile===null||profile===void 0?void 0:profile.codecs,speed:profile===null||profile===void 0?void 0:profile.speed});setModalType(\"profile\");setIsModalOpen(true);};var onModalSave=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8000/api/profiles/\".concat(content.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({profile:content})});case 2:case\"end\":return _context.stop();}},_callee);}));return function onModalSave(){return _ref.apply(this,arguments);};}();var _useState7=useState({id:selectedProfile===null||selectedProfile===void 0?void 0:selectedProfile.id,name:selectedProfile===null||selectedProfile===void 0?void 0:selectedProfile.name,codec:selectedProfile===null||selectedProfile===void 0?void 0:selectedProfile.codec,codecs:selectedProfile===null||selectedProfile===void 0?void 0:selectedProfile.codecs,speed:selectedProfile===null||selectedProfile===void 0?void 0:selectedProfile.speeds}),_useState8=_slicedToArray(_useState7,2),content=_useState8[0],setContent=_useState8[1];var leftToolBarItems=[/*#__PURE__*/_jsx(ToolBarItem,{text:\"Advanced\",icon:/*#__PURE__*/_jsx(SyncIcon,{fontSize:\"large\"})})];var profilesArray=[];for(var i in profiles){profilesArray.push(profiles[i]);}return/*#__PURE__*/_jsxs(\"div\",{className:styles.profiles,children:[/*#__PURE__*/_jsx(ToolBar,{leftToolBarItems:leftToolBarItems}),isModalOpen&&modalType===\"profile\"&&/*#__PURE__*/_jsx(\"div\",{className:styles.modalBackdrop,children:/*#__PURE__*/_jsx(\"div\",{className:styles.modalContent,children:/*#__PURE__*/_jsx(Modal,{header:\"Edit - Codec Profile\",type:\"profile\",isOpen:isModalOpen,setIsOpen:setIsModalOpen,onSave:onModalSave,data:selectedProfile,content:content,setContent:setContent})})}),/*#__PURE__*/_jsx(\"div\",{className:styles.content,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.codecProfiles,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.header,children:\"Codec Profiles\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.profileContainer,children:profilesArray===null||profilesArray===void 0?void 0:profilesArray.map(function(profile){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return handleProfileClick(profile);},children:/*#__PURE__*/_jsx(Profile,{name:profile===null||profile===void 0?void 0:profile.name,codecs:profile===null||profile===void 0?void 0:profile.codecs})});})})]})})]});};export default Profiles;","map":{"version":3,"names":["styles","Profile","useState","Modal","useProfiles","ToolBar","ToolBarItem","SyncIcon","jsx","_jsx","jsxs","_jsxs","Profiles","profiles","_useState","_useState2","_slicedToArray","modalType","setModalType","_useState3","_useState4","isModalOpen","setIsModalOpen","_useState5","_useState6","selectedProfile","setSelectedProfile","handleProfileClick","profile","setContent","id","name","codec","codecs","speed","onModalSave","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","concat","content","method","headers","body","JSON","stringify","stop","apply","arguments","_useState7","speeds","_useState8","leftToolBarItems","text","icon","fontSize","profilesArray","i","push","className","children","modalBackdrop","modalContent","header","type","isOpen","setIsOpen","onSave","data","codecProfiles","profileContainer","map","onClick"],"sources":["/Users/alexkeith/encodarr/frontend/src/components/profiles/Profiles.tsx"],"sourcesContent":["import styles from \"./Profiles.module.scss\";\nimport Profile from \"../profile/Profile\";\nimport { useState } from \"react\";\nimport Modal from \"../modal/Modal\";\nimport useProfiles from \"../../hooks/useProfiles\";\nimport ToolBar from \"../ToolBar/ToolBar\";\nimport ToolBarItem from \"../ToolBarItem/ToolBarItem\";\nimport SyncIcon from \"@mui/icons-material/Sync\";\n\nconst Profiles = () => {\n\tconst profiles = useProfiles();\n\tconst [modalType, setModalType] = useState(\"\");\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\n\tconst [selectedProfile, setSelectedProfile] = useState<any>({});\n\tconst handleProfileClick = (profile: any) => {\n\t\tsetSelectedProfile(profile);\n\t\tsetContent({\n\t\t\tid: profile?.id,\n\t\t\tname: profile?.name,\n\t\t\tcodec: profile?.codec,\n\t\t\tcodecs: profile?.codecs,\n\t\t\tspeed: profile?.speed,\n\t\t});\n\t\tsetModalType(\"profile\");\n\t\tsetIsModalOpen(true);\n\t};\n\tconst onModalSave = async () => {\n\t\tawait fetch(`http://localhost:8000/api/profiles/${content.id}`, {\n\t\t\tmethod: \"PUT\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ profile: content }),\n\t\t});\n\t};\n\n\tconst [content, setContent] = useState({\n\t\tid: selectedProfile?.id,\n\t\tname: selectedProfile?.name,\n\t\tcodec: selectedProfile?.codec,\n\t\tcodecs: selectedProfile?.codecs,\n\t\tspeed: selectedProfile?.speeds,\n\t});\n\tconst leftToolBarItems: any = [\n\t\t<ToolBarItem text=\"Advanced\" icon={<SyncIcon fontSize=\"large\" />} />,\n\t];\n\n\tconst profilesArray: [] = [];\n\n\tfor (let i in profiles) {\n\t\tprofilesArray.push(profiles[i]);\n\t}\n\n\treturn (\n\t\t<div className={styles.profiles}>\n\t\t\t<ToolBar leftToolBarItems={leftToolBarItems} />\n\t\t\t{isModalOpen && modalType === \"profile\" && (\n\t\t\t\t<div className={styles.modalBackdrop}>\n\t\t\t\t\t<div className={styles.modalContent}>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\theader={\"Edit - Codec Profile\"}\n\t\t\t\t\t\t\ttype={\"profile\"}\n\t\t\t\t\t\t\tisOpen={isModalOpen}\n\t\t\t\t\t\t\tsetIsOpen={setIsModalOpen}\n\t\t\t\t\t\t\tonSave={onModalSave}\n\t\t\t\t\t\t\tdata={selectedProfile}\n\t\t\t\t\t\t\tcontent={content}\n\t\t\t\t\t\t\tsetContent={setContent}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className={styles.content}>\n\t\t\t\t<div className={styles.codecProfiles}>\n\t\t\t\t\t<div className={styles.header}>Codec Profiles</div>\n\t\t\t\t\t<div className={styles.profileContainer}>\n\t\t\t\t\t\t{profilesArray?.map((profile: any) => (\n\t\t\t\t\t\t\t<div onClick={() => handleProfileClick(profile)}>\n\t\t\t\t\t\t\t\t<Profile name={profile?.name} codecs={profile?.codecs} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nexport default Profiles;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}